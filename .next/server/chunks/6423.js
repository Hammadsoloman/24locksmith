"use strict";exports.id=6423,exports.ids=[6423],exports.modules={13178:(e,t,s)=>{s.d(t,{R:()=>a});const a="io.prismic.preview"},27097:(e,t,s)=>{s.d(t,{L:()=>n});var a=s(71615),i=s(13178);const n=e=>{var t;"previewData"in e&&e.previewData?"object"===typeof(t=e.previewData)&&null!==t&&"ref"in t&&e.client.queryContentFromRef(e.previewData.ref):"req"in e&&e.req?e.client.enableAutoPreviewsFromReq(e.req):e.client.queryContentFromRef((()=>{var e;let t,s=!1;try{s=(0,a.draftMode)().isEnabled}catch{return}if(s){try{t=null==(e=(0,a.cookies)().get(i.R))?void 0:e.value}catch{return}return t&&/\.prismic\.io/.test(t)?t:void 0}}))}},12005:(e,t,s)=>{s.d(t,{eI:()=>O});const a=e=>Array.isArray(e)?e:[e],i=(e={},t)=>({...e,filters:[...e.filters||[],...a(t)]});var n=s(97129);const r=e=>n.h.at("document.tags",a(e));var o=Object.defineProperty,h=(e,t,s)=>(((e,t,s)=>{t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(e,"symbol"!==typeof t?t+"":t,s),s);class c extends Error{constructor(e="An invalid API response was returned",t,s){super(e),h(this,"url"),h(this,"response"),this.url=t,this.response=s}}const l=(e,t)=>{const s=e.find((e=>t(e)));if(!s)throw new c("Ref could not be found.",void 0,void 0);return s},u=e=>l(e,(e=>e.isMasterRef)),f=(e,t)=>l(e,(e=>e.id===t)),d=(e,t)=>l(e,(e=>e.label===t)),g=e=>e.replace(/%3B/g,";"),y=e=>n.h.any("document.tags",a(e)),p=e=>n.h.at("document.type",e);class w extends c{}class m extends c{}class R extends c{}class v extends w{}class b extends w{}class k extends w{}class S extends m{}const T="Document",P="Media",j="Web",A=(e,...t)=>{if(!e)return null;const s="link_type"in e?e:(e=>{var t;return{link_type:T,id:e.id,uid:e.uid||void 0,type:e.type,tags:e.tags,lang:e.lang,url:null==e.url?void 0:e.url,slug:null==(t=e.slugs)?void 0:t[0],...e.data&&Object.keys(e.data).length>0?{data:e.data}:{}}})(e),[a]=t;let i;switch(i="function"===typeof a||null==a?{linkResolver:a}:{...a},s.link_type){case P:case j:return"url"in s?s.url:null;case T:if("id"in s&&i.linkResolver){const e=i.linkResolver(s);if(null!=e)return e}return"url"in s&&s.url?s.url:null;default:return null}},q={accessToken:"access_token"},D=e=>"string"===typeof e?e:"desc"===e.direction?`${e.field} desc`:e.field;var F=Object.defineProperty,B=(e,t,s)=>(((e,t,s)=>{t in e?F(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(e,"symbol"!==typeof t?t+"":t,s),s);var L,I;(I=L||(L={})).Master="Master",I.ReleaseID="ReleaseID",I.ReleaseLabel="ReleaseLabel",I.Manual="Manual";const O=(e,t)=>new $(e,t);class ${constructor(e,t={}){if(B(this,"endpoint"),B(this,"accessToken"),B(this,"routes"),B(this,"brokenRoute"),B(this,"fetchFn"),B(this,"fetchOptions"),B(this,"defaultParams"),B(this,"refState",{mode:L.Master,autoPreviewsEnabled:!0}),B(this,"cachedRepository"),B(this,"cachedRepositoryExpiration",0),B(this,"fetchJobs",{}),(e=>{try{return new URL(e),!0}catch{return!1}})(e)?this.endpoint=e:this.endpoint=(e=>{if(/^[a-zA-Z0-9][-a-zA-Z0-9]{2,}[a-zA-Z0-9]$/.test(e))return`https://${e}.cdn.prismic.io/api/v2`;throw new c(`An invalid Prismic repository name was given: ${e}`,void 0,void 0)})(e),this.accessToken=t.accessToken,this.routes=t.routes,this.brokenRoute=t.brokenRoute,this.fetchOptions=t.fetchOptions,this.defaultParams=t.defaultParams,t.ref&&this.queryContentFromRef(t.ref),"function"===typeof t.fetch)this.fetchFn=t.fetch;else{if("function"!==typeof globalThis.fetch)throw new c("A valid fetch implementation was not provided. In environments where fetch is not available (including Node.js), a fetch implementation must be provided via a polyfill or the `fetch` option.",void 0,void 0);this.fetchFn=globalThis.fetch}this.fetchFn===globalThis.fetch&&(this.fetchFn=this.fetchFn.bind(globalThis)),this.graphQLFetch=this.graphQLFetch.bind(this)}enableAutoPreviews(){this.refState.autoPreviewsEnabled=!0}enableAutoPreviewsFromReq(e){this.refState.httpRequest=e,this.refState.autoPreviewsEnabled=!0}disableAutoPreviews(){this.refState.autoPreviewsEnabled=!1}async get(e){const t=await this.buildQueryURL(e);return await this.fetch(t,e)}async getFirst(e){var t;const s={...e};e&&e.page||(null==e?void 0:e.pageSize)||(s.pageSize=(null==(t=this.defaultParams)?void 0:t.pageSize)??1);const a=await this.buildQueryURL(s),i=(await this.fetch(a,e)).results[0];if(i)return i;throw new m("No documents were returned",a,void 0)}async dangerouslyGetAll(e={}){var t;const{limit:s=1/0,...a}=e,i={...a,pageSize:Math.min(s,a.pageSize||(null==(t=this.defaultParams)?void 0:t.pageSize)||100)},n=[];let r;for(;(!r||r.next_page)&&n.length<s;){const e=r?r.page+1:void 0;r=await this.get({...i,page:e}),n.push(...r.results),r.next_page&&await new Promise((e=>setTimeout(e,500)))}return n.slice(0,s)}async getByID(e,t){return await this.getFirst(i(t,n.h.at("document.id",e)))}async getByIDs(e,t){return await this.get(i(t,n.h.in("document.id",e)))}async getAllByIDs(e,t){return await this.dangerouslyGetAll(i(t,n.h.in("document.id",e)))}async getByUID(e,t,s){return await this.getFirst(i(s,[p(e),n.h.at(`my.${e}.uid`,t)]))}async getByUIDs(e,t,s){return await this.get(i(s,[p(e),n.h.in(`my.${e}.uid`,t)]))}async getAllByUIDs(e,t,s){return await this.dangerouslyGetAll(i(s,[p(e),n.h.in(`my.${e}.uid`,t)]))}async getSingle(e,t){return await this.getFirst(i(t,p(e)))}async getByType(e,t){return await this.get(i(t,p(e)))}async getAllByType(e,t){return await this.dangerouslyGetAll(i(t,p(e)))}async getByTag(e,t){return await this.get(i(t,y(e)))}async getAllByTag(e,t){return await this.dangerouslyGetAll(i(t,y(e)))}async getByEveryTag(e,t){return await this.get(i(t,r(e)))}async getAllByEveryTag(e,t){return await this.dangerouslyGetAll(i(t,r(e)))}async getBySomeTags(e,t){return await this.get(i(t,y(e)))}async getAllBySomeTags(e,t){return await this.dangerouslyGetAll(i(t,y(e)))}async getRepository(e){const t=new URL(this.endpoint);return this.accessToken&&t.searchParams.set("access_token",this.accessToken),await this.fetch(t.toString(),e)}async getRefs(e){return(await this.getRepository(e)).refs}async getRefByID(e,t){const s=await this.getRefs(t);return f(s,e)}async getRefByLabel(e,t){const s=await this.getRefs(t);return d(s,e)}async getMasterRef(e){const t=await this.getRefs(e);return u(t)}async getReleases(e){return(await this.getRefs(e)).filter((e=>!e.isMasterRef))}async getReleaseByID(e,t){const s=await this.getReleases(t);return f(s,e)}async getReleaseByLabel(e,t){const s=await this.getReleases(t);return d(s,e)}async getTags(e){try{const t=await this.getCachedRepositoryForm("tags",e),s=new URL(t.action);return this.accessToken&&s.searchParams.set("access_token",this.accessToken),await this.fetch(s.toString(),e)}catch{return(await this.getRepository(e)).tags}}async buildQueryURL({signal:e,fetchOptions:t,...s}={}){const i=s.ref||await this.getResolvedRefString({signal:e,fetchOptions:t}),n=s.integrationFieldsRef||(await this.getCachedRepository({signal:e,fetchOptions:t})).integrationFieldsRef||void 0;return((e,t)=>{const{filters:s,predicates:i,...n}=t,r=new URL("documents/search",`${e}/`);if(s)for(const o of a(s))r.searchParams.append("q",`[${o}]`);if(i)for(const o of a(i))r.searchParams.append("q",`[${o}]`);for(const o in n){const e=q[o]||o;let t=n[o];if("orderings"===e){const s=n[e];null!=s&&(t=`[${a(s).map((e=>D(e))).join(",")}]`)}else"routes"===e&&"object"===typeof n[e]&&(t=JSON.stringify(a(n[e])));null!=t&&r.searchParams.set(e,a(t).join(","))}return r.toString()})(this.endpoint,{...this.defaultParams,...s,ref:i,integrationFieldsRef:n,routes:s.routes||this.routes,brokenRoute:s.brokenRoute||this.brokenRoute,accessToken:s.accessToken||this.accessToken})}async resolvePreviewURL(e){var t,s;let a=e.documentID,i=e.previewToken;if("undefined"!==typeof globalThis.location){const e=new URLSearchParams(globalThis.location.search);a=a||e.get("documentId"),i=i||e.get("token")}else if(this.refState.httpRequest)if("query"in this.refState.httpRequest)a=a||(null==(t=this.refState.httpRequest.query)?void 0:t.documentId),i=i||(null==(s=this.refState.httpRequest.query)?void 0:s.token);else if("url"in this.refState.httpRequest&&this.refState.httpRequest.url){const e=new URL(this.refState.httpRequest.url,"missing-host://").searchParams;a=a||e.get("documentId"),i=i||e.get("token")}if(null!=a&&null!=i){const t=await this.getByID(a,{ref:i,lang:"*",signal:e.signal,fetchOptions:e.fetchOptions}),s=A(t,{linkResolver:e.linkResolver});if("string"===typeof s)return s}return e.defaultURL}queryLatestContent(){this.refState.mode=L.Master}queryContentFromReleaseByID(e){this.refState={...this.refState,mode:L.ReleaseID,releaseID:e}}queryContentFromReleaseByLabel(e){this.refState={...this.refState,mode:L.ReleaseLabel,releaseLabel:e}}queryContentFromRef(e){this.refState={...this.refState,mode:L.Manual,ref:e}}async graphQLFetch(e,t){const s=await this.getCachedRepository(),a=await this.getResolvedRefString(),i={"Prismic-ref":a,Authorization:this.accessToken?`Token ${this.accessToken}`:"",...t?t.headers:{}};s.integrationFieldsRef&&(i["Prismic-integration-field-ref"]=s.integrationFieldsRef);const n={};for(const h in i)i[h]&&(n[h.toLowerCase()]=i[h]);const r=new URL(e);r.searchParams.set("ref",a);const o=r.searchParams.get("query");return o&&r.searchParams.set("query",(e=>e.replace(/(\n| )*( |{|})(\n| )*/gm,((e,t,s)=>s)))(o)),await this.fetchFn(r.toString(),{...t,headers:n})}async getCachedRepository(e){return(!this.cachedRepository||Date.now()>=this.cachedRepositoryExpiration)&&(this.cachedRepositoryExpiration=Date.now()+5e3,this.cachedRepository=await this.getRepository(e)),this.cachedRepository}async getCachedRepositoryForm(e,t){const s=(await this.getCachedRepository(t)).forms[e];if(!s)throw new c(`Form with name "${e}" could not be found`,void 0,void 0);return s}async getResolvedRefString(e){var t,s;if(this.refState.autoPreviewsEnabled){let e,a;if((null==(t=this.refState.httpRequest)?void 0:t.headers)?"get"in this.refState.httpRequest.headers&&"function"===typeof this.refState.httpRequest.headers.get?a=this.refState.httpRequest.headers.get("cookie"):"cookie"in this.refState.httpRequest.headers&&(a=this.refState.httpRequest.headers.cookie):(null==(s=globalThis.document)?void 0:s.cookie)&&(a=globalThis.document.cookie),a&&(e=(e=>{const t=e.split("; ");let s;for(const a of t){const e=a.split("=");if("io.prismic.preview"===g(e[0]).replace(/%3D/g,"=")){s=g(e.slice(1).join("="));break}}return s})(a)),e)return e}const a=await this.getCachedRepository(e),i=this.refState.mode;if(i===L.ReleaseID)return f(a.refs,this.refState.releaseID).ref;if(i===L.ReleaseLabel)return d(a.refs,this.refState.releaseLabel).ref;if(i===L.Manual){const e=await(n=this.refState.ref,"function"===typeof n?n:()=>n)();if("string"===typeof e)return e}var n;return u(a.refs).ref}async fetch(e,t={}){var s,a,i,n;const r={...this.fetchOptions,...t.fetchOptions,headers:{...null==(s=this.fetchOptions)?void 0:s.headers,...null==(a=t.fetchOptions)?void 0:a.headers},signal:(null==(i=t.fetchOptions)?void 0:i.signal)||t.signal||(null==(n=this.fetchOptions)?void 0:n.signal)};let o;this.fetchJobs[e]&&this.fetchJobs[e].has(r.signal)?o=this.fetchJobs[e].get(r.signal):(this.fetchJobs[e]=this.fetchJobs[e]||new Map,o=this.fetchFn(e,r).then((async e=>{let t;try{t=await e.json()}catch{}return{status:e.status,headers:e.headers,json:t}})).finally((()=>{this.fetchJobs[e].delete(r.signal),0===this.fetchJobs[e].size&&delete this.fetchJobs[e]})),this.fetchJobs[e].set(r.signal,o));const h=await o;if(404!==h.status&&null==h.json)throw new c(void 0,e,h.json);switch(h.status){case 200:return h.json;case 400:throw new R(h.json.message,e,h.json);case 401:case 403:throw new w(h.json.error||h.json.message,e,h.json);case 404:if(void 0===h.json)throw new S(`Prismic repository not found. Check that "${this.endpoint}" is pointing to the correct repository.`,e,void 0);if("api_notfound_error"===h.json.type)throw new k(h.json.message,e,h.json);if("api_security_error"===h.json.type&&/preview token.*expired/i.test(h.json.message))throw new v(h.json.message,e,h.json);throw new m(h.json.message,e,h.json);case 410:throw new b(h.json.message,e,h.json);case 429:{const s=Number(h.headers.get("retry-after")),a=Number.isNaN(s)?1e3:s;return await new Promise(((s,i)=>{setTimeout((async()=>{try{s(await this.fetch(e,t))}catch(a){i(a)}}),a)}))}}throw new c(void 0,e,h.json)}}},97129:(e,t,s)=>{s.d(t,{h:()=>r});const a=e=>Array.isArray(e)?`[${e.map(a).join(", ")}]`:"string"===typeof e?`"${e}"`:e instanceof Date?`${e.getTime()}`:`${e}`,i=e=>(t,...s)=>{const i=s.map(a).join(", "),n=t&&s.length?", ":"";return`[${e}(${t}${n}${i})]`},n=e=>{const t=i(e);return e=>t(e)},r={at:i("at"),not:i("not"),any:i("any"),in:i("in"),fulltext:i("fulltext"),has:n("has"),missing:n("missing"),similar:(e=>{const t=i(e);return(...e)=>t("",...e)})("similar"),geopointNear:i("geopoint.near"),numberLessThan:i("number.lt"),numberGreaterThan:i("number.gt"),numberInRange:i("number.inRange"),dateAfter:i("date.after"),dateBefore:i("date.before"),dateBetween:i("date.between"),dateDayOfMonth:i("date.day-of-month"),dateDayOfMonthAfter:i("date.day-of-month-after"),dateDayOfMonthBefore:i("date.day-of-month-before"),dateDayOfWeek:i("date.day-of-week"),dateDayOfWeekAfter:i("date.day-of-week-after"),dateDayOfWeekBefore:i("date.day-of-week-before"),dateMonth:i("date.month"),dateMonthAfter:i("date.month-after"),dateMonthBefore:i("date.month-before"),dateYear:i("date.year"),dateHour:i("date.hour"),dateHourAfter:i("date.hour-after"),dateHourBefore:i("date.hour-before")}}};